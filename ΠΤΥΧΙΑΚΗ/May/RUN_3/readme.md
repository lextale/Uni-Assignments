# Περιγραφή
**Σκοπός:** 
Σκοπός της εργασίας είναι η ανάπτυξη ενός chatbot που να απαντά ερωτήσεις των χρηστών για Πρώτες Βοήθειες.

**Λειτουργία:** 
Το Chabot δέχεται ως είσοδο κείμενο και προβλέπει μεταξύ 267 διαφορετικών προθέσεων την πρόθεση της ερώτησης της εισόδου με τη χρήση ενός προεκπαιδευμένου μοντέλου. Έπειτα, εμφανίζει στην οθόνη του χρήστη την απάντηση. Σε περίπτωση που η καλύτερη πρόβλεψη έχει πιθανότητα μικρότερη του 0.5, τότε εμφανίζεται ως απάντηση ότι η ερώτηση του χρήστη δεν είναι επαρκής. 

**Εκπαίδευση**
- Φόρτωση δεδομένων εκπαίδευσης και επικύρωσης
- Προεπεξεργασία Φυσικής Γλώσσας:
  - Αφαίρεση σημείων στίξεως και χαρακτήρα newline
  - Tokenization: Διαχωρισμός κάθε ερωτήσης σε λίστα λέξεων
  - Lemmatization: Μετατροπή των λέξεων στις λίστες λέξεων στη βασική τους μορφή (αφαίρεση καταλήξεων κ.τ.λ.)
- Δημιουργία Λεξιλογίου με κάθε λέξη που υπάρχει στις ερωτήσεις των δεδομένων εκπαίδευσης και των δεδομένων επικύρωσης
- Data Mapping (train_x): Οι λέξεις στις λίστες λέξεων μετατρέπονται σε αριθμούς που αντιπροσωπεύουν τον δείκτη της λέξης στο Λεξιλόγιο
- One Hot Encoding (train_y): Η πρόθεση της κάθε λέξης, η οποία είναι ένας αριθμός από το 0 έως το 266 κωδικοποιείται με την τεχνικη one-hot encoding σε μια λίστα με 266 μηδενικά και 1 άσσο στον αριθμό θέσης που ισούται με τον αριθμό της πρόθεσης

**Μοντέλο**

```
model = Sequential()
model.add(Embedding(input_dim=267, output_dim=100, input_length=25))
model.add(SpatialDropout1D(0.2))
model.add(LSTM(100, dropout=0.2, recurrent_dropout=0.2, kernel_regularizer=l2(0.01)))
```

**Υπό Ανάτυξη**
- Web Εφαρμογή

## Αρχεία
- ```training.py``` :   Εκπαίδευση μοντέλου του chatbot
- ```chatbot.py``` :  Chatbot Interface για την επικοινωνία των χρηστών με το chatbot
- ```output.txt``` :  Αποτελέσματα ερωτήσεις-απαντήσεις του chatbot (πηγή ερωτήσεων: ```training_data_3.txt```) και αξιολόγηση ορθότητας
- ```training_data_3.txt``` : Περιέχει το σύνολο των δεδομένων εκπαίδευσης με τη μορφή (αριθμός_ερώτησης\n ερώτηση\n απάντηση)
- ```validation_data_3.txt``` : Περιέχει το σύνολο των δεδομένων επικύρωσηw με τη μορφή (αριθμός_ερώτησης\n ερώτηση\n απάντηση)

## Βάση γνώσης
1) Intents: https://www.kaggle.com/code/therealsampat/first-aid-recommendation-deep-learning-chatbot/notebook
2) Απαντήσεις: https://www.ekab.gr/files/entypa/EKAB-protes-voithies.pdf
Το dataset μας είναι ένα αρχείο txt που περιέχει ```αναγνωριστικό_πρόθεσης``` (0-266), την ```ερώτηση``` και την ανάλογη ```απάντηση```. Ως προθέσεις στο παρόν dataset θεωρούνται ερωτήσεις που περιέχουν την πρόθεση (Παράδειγμα: How to treat a heart attack) ή την πρόθεση χωρίς κείμενο (Παράδειγμα: heart attack). Οι προθέσεις εξήχθηκαν απο προϋπάρχον dataset που περιέχει προθέσεις, ερωτήσεις και απαντήσεις. Για λόγους εγκυρότητας οι απαντήσεις συντάχθηκαν χειροκίνητα σύμφωνα με το επίσημο Εγχειρίδιο Πρώτων Βοηθηών του ΕΚΑΒ.


## Jupyter Notebook
- https://github.com/lextale/Uni-Assignments/blob/main/ΠΤΥΧΙΑΚΗ/May/RUN_3/training.ipynb
- https://github.com/lextale/Uni-Assignments/blob/main/ΠΤΥΧΙΑΚΗ/May/RUN_3/chatbot.ipynb

## Στατιστικά
**Model Training Accuracy**

![Model Training Accuracy](https://github.com/lextale/Uni-Assignments/blob/main/ΠΤΥΧΙΑΚΗ/May/RUN_3/model_3_accuracy.png)

**Model Training Loss**

![Model Training Loss](https://github.com/lextale/Uni-Assignments/blob/main/ΠΤΥΧΙΑΚΗ/May/RUN_3/model_3_loss.png)
